{"ast":null,"code":"import _toConsumableArray from \"D:\\\\ReactProjects\\\\amazon\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"D:\\\\ReactProjects\\\\amazon\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nexport var initialState = {\n  basket: []\n};\n\n//selector\nexport var getBasketTotal = function getBasketTotal(basket) {\n  return basket.reduce(function (amount, item) {\n    return item.price + amount;\n  }, 0);\n};\nvar reducer = function reducer(state, action) {\n  console.log(action);\n  switch (action.type) {\n    case \"ADD_TO_BASKET\":\n      return _objectSpread({}, state, {\n        basket: [].concat(_toConsumableArray(state.basket), [action.item])\n      });\n    case \"REMOVE_FROM_BASKET\":\n      // return{\n      //     ...state,\n      //     basket:state.basket.filter(item=> item.id !== action.id)\n      // }\n      var index = state.basket.findIndex(function (basketItem) {\n        return basketItem.id === action.id;\n      });\n      var newBasket = _toConsumableArray(state.basket);\n      if (index >= 0) {\n        newBasket.splice(index, 1);\n      } else {\n        console.warn(\"Can't remove product (id: \".concat(action.id, \") as its not in basket ! \"));\n      }\n      return _objectSpread({}, state, {\n        basket: newBasket\n      });\n    default:\n      return state;\n  }\n};\nexport default reducer;","map":{"version":3,"names":["initialState","basket","getBasketTotal","reduce","amount","item","price","reducer","state","action","console","log","type","_objectSpread","concat","_toConsumableArray","index","findIndex","basketItem","id","newBasket","splice","warn"],"sources":["D:/ReactProjects/amazon/amazon-clone/src/reducer.js"],"sourcesContent":["export const initialState = {\r\n  basket: [],\r\n};\r\n\r\n//selector\r\nexport const getBasketTotal=(basket)=>\r\n    basket.reduce((amount,item)=>item.price+amount,0);\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action);\r\n  switch (action.type) {\r\n    case \"ADD_TO_BASKET\":\r\n      return {\r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n      };\r\n\r\n      case \"REMOVE_FROM_BASKET\":\r\n        // return{\r\n        //     ...state,\r\n        //     basket:state.basket.filter(item=> item.id !== action.id)\r\n        // }\r\n        const index=state.basket.findIndex(\r\n            (basketItem)=> basketItem.id === action.id\r\n        );\r\n        let newBasket = [...state.basket];\r\n        if(index >= 0){\r\n            newBasket.splice(index,1);\r\n        }\r\n        else{\r\n            console.warn(\r\n                `Can't remove product (id: ${action.id}) as its not in basket ! `\r\n            )\r\n        }\r\n\r\n        return{\r\n            ...state,\r\n            basket: newBasket\r\n        }\r\n\r\n      default:\r\n        return state;\r\n  }\r\n};\r\n\r\nexport default reducer;"],"mappings":";;AAAA,OAAO,IAAMA,YAAY,GAAG;EAC1BC,MAAM,EAAE;AACV,CAAC;;AAED;AACA,OAAO,IAAMC,cAAc,GAAC,SAAfA,cAAcA,CAAED,MAAM;EAAA,OAC/BA,MAAM,CAACE,MAAM,CAAC,UAACC,MAAM,EAACC,IAAI;IAAA,OAAGA,IAAI,CAACC,KAAK,GAACF,MAAM;EAAA,GAAC,CAAC,CAAC;AAAA;AAErD,IAAMG,OAAO,GAAG,SAAVA,OAAOA,CAAIC,KAAK,EAAEC,MAAM,EAAK;EAC/BC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;EACrB,QAAQA,MAAM,CAACG,IAAI;IACjB,KAAK,eAAe;MAClB,OAAAC,aAAA,KACKL,KAAK;QACRP,MAAM,KAAAa,MAAA,CAAAC,kBAAA,CAAMP,KAAK,CAACP,MAAM,IAAEQ,MAAM,CAACJ,IAAI;MAAC;IAGxC,KAAK,oBAAoB;MACvB;MACA;MACA;MACA;MACA,IAAMW,KAAK,GAACR,KAAK,CAACP,MAAM,CAACgB,SAAS,CAC9B,UAACC,UAAU;QAAA,OAAIA,UAAU,CAACC,EAAE,KAAKV,MAAM,CAACU,EAAE;MAAA,EAC7C;MACD,IAAIC,SAAS,GAAAL,kBAAA,CAAOP,KAAK,CAACP,MAAM,CAAC;MACjC,IAAGe,KAAK,IAAI,CAAC,EAAC;QACVI,SAAS,CAACC,MAAM,CAACL,KAAK,EAAC,CAAC,CAAC;MAC7B,CAAC,MACG;QACAN,OAAO,CAACY,IAAI,8BAAAR,MAAA,CACqBL,MAAM,CAACU,EAAE,+BACzC;MACL;MAEA,OAAAN,aAAA,KACOL,KAAK;QACRP,MAAM,EAAEmB;MAAS;IAGvB;MACE,OAAOZ,KAAK;EAAC;AAErB,CAAC;AAED,eAAeD,OAAO"},"metadata":{},"sourceType":"module"}